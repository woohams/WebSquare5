<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_screenName="linkedDataList 샘플">
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataList id="dc_list" baseNode="list" saveRemovedData="true" repeatNode="map">
					<w2:columnInfo>
						<w2:column id="a" name="코드1" dataType="text"></w2:column>
						<w2:column id="b" name="코드2" dataType="text"></w2:column>
					</w2:columnInfo>
					<w2:data use="true">
						<w2:row>
							<a><![CDATA[1]]></a>
							<b><![CDATA[11]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[5]]></a>
							<b><![CDATA[52]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[4]]></a>
							<b><![CDATA[43]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[2]]></a>
							<b><![CDATA[22]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[7]]></a>
							<b><![CDATA[72]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[6]]></a>
							<b><![CDATA[61]]></b>
						</w2:row>
						<w2:row>
							<a><![CDATA[7]]></a>
							<b><![CDATA[71]]></b>
						</w2:row>
					</w2:data>
				</w2:dataList>
				<w2:dataList id="dc_code" baseNode="list" saveRemovedData="true" repeatNode="map">
					<w2:columnInfo>
						<w2:column id="label" name="name1" dataType="text"></w2:column>
						<w2:column id="code" name="name2" dataType="text"></w2:column>
						<w2:column id="upperCode" name="name3" dataType="text"></w2:column>
					</w2:columnInfo>
					<w2:data use="true">
						<w2:row>
							<label><![CDATA[Code001]]></label>
							<code><![CDATA[1]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code002]]></label>
							<code><![CDATA[2]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code003]]></label>
							<code><![CDATA[3]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code004]]></label>
							<code><![CDATA[4]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code005]]></label>
							<code><![CDATA[5]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code006]]></label>
							<code><![CDATA[6]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code007]]></label>
							<code><![CDATA[7]]></code>
							<upperCode><![CDATA[0]]>
							</upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code001-1]]></label>
							<code><![CDATA[11]]></code>
							<upperCode><![CDATA[1]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code001-2]]></label>
							<code><![CDATA[12]]></code>
							<upperCode><![CDATA[1]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code001-3]]></label>
							<code><![CDATA[13]]></code>
							<upperCode><![CDATA[1]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code001-4]]></label>
							<code><![CDATA[14]]></code>
							<upperCode><![CDATA[1]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code002-1]]></label>
							<code><![CDATA[21]]></code>
							<upperCode><![CDATA[2]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code002-2]]></label>
							<code><![CDATA[22]]></code>
							<upperCode><![CDATA[2]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code002-3]]></label>
							<code><![CDATA[23]]></code>
							<upperCode><![CDATA[2]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code002-4]]></label>
							<code><![CDATA[24]]></code>
							<upperCode><![CDATA[2]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code003-1]]></label>
							<code><![CDATA[31]]></code>
							<upperCode><![CDATA[3]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code003-2]]></label>
							<code><![CDATA[32]]></code>
							<upperCode><![CDATA[3]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code003-3]]></label>
							<code><![CDATA[33]]></code>
							<upperCode><![CDATA[3]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code003-4]]></label>
							<code><![CDATA[34]]></code>
							<upperCode><![CDATA[3]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code004-1]]></label>
							<code><![CDATA[41]]></code>
							<upperCode><![CDATA[4]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code004-2]]></label>
							<code><![CDATA[42]]></code>
							<upperCode><![CDATA[4]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code004-3]]></label>
							<code><![CDATA[43]]></code>
							<upperCode><![CDATA[4]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code004-4]]></label>
							<code><![CDATA[44]]></code>
							<upperCode><![CDATA[4]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code005-1]]></label>
							<code><![CDATA[51]]></code>
							<upperCode><![CDATA[5]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code005-2]]></label>
							<code><![CDATA[52]]></code>
							<upperCode><![CDATA[5]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code006-1]]></label>
							<code><![CDATA[61]]></code>
							<upperCode><![CDATA[6]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code006-2]]></label>
							<code><![CDATA[62]]></code>
							<upperCode><![CDATA[6]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code007-1]]></label>
							<code><![CDATA[71]]></code>
							<upperCode><![CDATA[7]]></upperCode>
						</w2:row>
						<w2:row>
							<label><![CDATA[Code007-2]]></label>
							<code><![CDATA[72]]></code>
							<upperCode><![CDATA[7]]></upperCode>
						</w2:row>
					</w2:data>
				</w2:dataList>
				<w2:linkedDataList id="dc_linkcode1" bind="dc_code">
					<w2:condition type="filter"><![CDATA[upperCode == '0']]></w2:condition>
					<w2:condition type="sort"><![CDATA[]]>
					</w2:condition>
				</w2:linkedDataList>
				<w2:linkedDataList id="dc_linkcode2" bind="dc_code">
					<w2:condition type="filter"><![CDATA[upperCode == ref ( 'data:dc_list.a')]]></w2:condition>
					<w2:condition type="sort"><![CDATA[]]>
					</w2:condition>
				</w2:linkedDataList>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
		</xf:model>
		<style type="text/css"><![CDATA[
    		.gridBodyDefault nobr{
    			width:auto !important;
    			padding:0px 8px;
    		}
    	]]></style>
		<script type="text/javascript" lazy="false"><![CDATA[ 
			scwin.onpageload = function() {
				
			};
			
			scwin.onpageunload = function() {
				
			};
			
			scwin.ui_gridView_onafteredit = function(row,col,value) {
				var id = ui_gridView.getColumnID( col );
				if ( id == 'a' ) {
					//이미 선택되어있는 value값 변경해주기
					var tmpValue = dc_code.getMatchedColumnData("code",dc_list.getCellData(row, "b") ,"upperCode");
					if (tmpValue[0] != value ) {
						dc_list.setCellData(row, "b", dc_linkcode2.getCellData(0, "code"));
					}
				}
			};
	]]></script>
	</head>
	<body ev:onpageunload="scwin.onpageunload" ev:onpageload="scwin.onpageload">
		<xf:group id="" style="" class="wrapper">
			<xf:group class="section_desc" id="" style="padding: 10px;">
				<w2:textbox id=""
					label='GridView의 selectbox컬럼의 value가 변경되면 해당 value를 참조하여 selectbox의 item(항목)을 구성하는 샘플이다.&lt;br/&gt;"코드1"에 해당하는 selectbox의 항목을 변경하면 "코드2"에 표현된 selectbox의 항목이 변경된다.&lt;br/&gt;&lt;br/&gt;구성방법은 코드성 데이터 전체를 DataList에 할당하고 LinkedDataList 2개에 조건(필터)를 적용해 data를 구성하고 selectbox의 NodeSet을 LinkedDataList로 설정한다 .&lt;br/&gt;(스크립트의 scwin.ui_gridView_onafteredit method 참조)&lt;br/&gt;&lt;br/&gt;( source : fn_grdiView_selectbox_multi_control.xml )'
					style="" tagname="">
				</w2:textbox>
			</xf:group>
			<w2:gridView id="ui_gridView" dataList="dc_list" autoFit="allColumn" style="position: relative;height: 200px;" useShiftKey="true"
				scrollByColumn="false" adaptiveThreshold="" ev:onafteredit="scwin.ui_gridView_onafteredit" ev:onviewchange="" fixedColumnWithHidden="true"
				rowNumVisible="true" rowNumWidth="" rowNumHeaderValue="No.">
				<w2:header id="header1" style="">
					<w2:row id="row2" style="">
						<w2:column id="column9" blockSelect="false" style="height:30px;" width="100" inputType="text" value="코드1"></w2:column>
						<w2:column id="column7" blockSelect="false" style="height:30px;" width="100" inputType="text" value="코드2"></w2:column>
					</w2:row>
				</w2:header>
				<w2:gBody id="gBody4" style="">
					<w2:row id="row5" style="">
						<w2:column id="a" blockSelect="false" style="height:30px;" width="100" inputType="select" viewType="icon"
							textAlign="center">
							<w2:choices>
								<w2:itemset nodeset="data:dc_linkcode1">
									<w2:label ref="label"></w2:label>
									<w2:value ref="code"></w2:value>
								</w2:itemset>
							</w2:choices>
						</w2:column>
						<w2:column id="b" blockSelect="false" style="height:30px;" width="100" inputType="select" viewType="icon"
							textAlign="center">
							<w2:choices>
								<w2:itemset nodeset="data:dc_linkcode2">
									<w2:label ref="label"></w2:label>
									<w2:value ref="code"></w2:value>
								</w2:itemset>
							</w2:choices>
						</w2:column>
					</w2:row>
				</w2:gBody>
			</w2:gridView>
		</xf:group>
	</body>
</html>
